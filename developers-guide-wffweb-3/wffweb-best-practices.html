<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="What are the best practices to follow while developing applications using wffweb. What is the concept of holdPush and unholdPush methods in wffweb and when to use it. Major changes done for holdPush and unholdPush methods and since which version of wffweb it is applicable.">
    <meta name="author" content="Web Firm Framework">
    <meta name="theme-color" content="#147cb5"/>
    <link rel="icon" href="/favicon.ico">

    <title>best coding practices | Developers Guide</title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- Custom styles for this template -->
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
    <link href="../assets/css/blog.css" rel="stylesheet">
    
    <!-- google ads -->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
    <link rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.13.1/build/styles/default.min.css">

  </head>

  <body>

<!-- for facebook share -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


    <div class="container">
      <header class="blog-header py-3">
      	<div class="row flex-nowrap justify-content-between align-items-center">
          <div class="col-12 text-center">
            <a class="blog-header-logo text-success" href="/">Web Firm Framework</a>
          </div>
        </div>
        <div class="row flex-nowrap justify-content-between align-items-center">
          <div class="col-6 pt-1">
            <a class="text-muted" href="get-started.html" title="Getting Started">Get Started</a>
          </div>
          <div class="col-6 d-flex justify-content-end align-items-center">
            <a class="text-muted" href="https://github.com/webfirmframework/minimal-production-ready-projects" target="_blank">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 512 499.36" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-3" focusable="false"><title>GitHub</title><path d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z" fill="currentColor" fill-rule="evenodd"></path></svg>
            </a>
            <a title="Download latest released wffweb .jar file" class="btn btn-sm btn-outline-secondary" href="https://search.maven.org/remote_content?g=com.webfirmframework&amp;a=wffweb&amp;v=LATEST">Download .jar</a>
          </div>
        </div>
      </header>

      <div class="nav-scroller py-1 mb-2">
        <nav class="nav d-flex justify-content-between">
          <a class="p-2 text-muted" title="Home" href="/">Home</a>
          <a class="p-2 text-muted" title="HTML5 to Java/Kotlin Tool" href="https://webfirmframework.com" target="_blank">HTML5 to Java/Kotlin Tool</a>
          
          <a class="p-2 text-muted" title="Production Ready Projects" href="https://github.com/webfirmframework/minimal-production-ready-projects" target="_blank">Production Ready Projects</a>          
        </nav>
      </div>

		<div class="jumbotron p-3 p-md-5 rounded"
			style="color: #147cb5; background: #75e8bf 0 0 repeat-x">
			<div class="col-md-6 px-0">
				<a href="/" title="Web Firm Framework"><picture>
				<source type="image/webp" srcset="../images/wff-logo-100px.webp">
				<img src="../images/wff-logo-100px.jpg" alt="WFF"></picture></a>
			</div>


			<h1 class="display-4 font-italic"
				title="wffweb - Java Developers Guide">wffweb - Java Developers
				Guide</h1>
			<p class="lead my-3">
				<a href="mailto:tech-support@webfirmframework.com"
					title="tech-support@webfirmframework.com">tech-support@webfirmframework.com</a>
				for support
			</p>



			<p class="lead mb-0">
				<a href="#" class="text-white font-weight-bold">A Java framework
					for Java experts to develop web applications...</a>
			</p>
		</div>

		<div class="row mb-2">
        <div class="col-md-6">
        
        <object style="width:100%;height:100%;float:none;clear:both;margin:2px auto;" data="https://www.youtube.com/embed/SBTKZh5LN_E" alt="Demo app creation youtube video"></object>
          <!-- <div class="card flex-md-row mb-4 shadow-sm h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
              <strong class="d-inline-block mb-2 text-primary">World</strong>
              <h3 class="mb-0">
                <a class="text-dark" href="#">Featured post</a>
              </h3>
              <div class="mb-1 text-muted">Nov 12</div>
              <p class="card-text mb-auto">This is a wider card with supporting text below as a natural lead-in to additional content.</p>
              <a href="#">Continue reading</a>
            </div>
            <img class="card-img-right flex-auto d-none d-lg-block" data-src="holder.js/200x250?theme=thumb" alt="Card image cap">
          </div> -->
        </div>
        
        
        <div class="col-md-6">        
         <div class="card flex-md-row mb-4 shadow-sm h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
              <strong class="d-inline-block mb-2 text-success">wffweb is the best one</strong>
              <blockquote cite="https://webfirmframework.github.io/developers-guide-wffweb-3/faq.html">
              If you are developing single page application, highly secured ui (banking/financial products), mission critical ui development, business application, 
				realtime application i.e. the applications which show realtime data in it, analytical applications, trading applications etc..
              </blockquote>
              <p class="fb-share-button" data-href="https://webfirmframework.github.io" data-layout="button_count" data-size="small" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwebfirmframework.github.io%2F&amp;src=sdkpreparse">Share</a></p>
              <p>			
				<script src="//platform.linkedin.com/in.js" type="text/javascript"> lang: en_US</script>
				<script type="IN/Share" data-url="https://webfirmframework.github.io/" data-counter="right"></script>
			  </p>
			  
              
              <!-- <h3 class="mb-0">
                <a class="text-dark" href="#">wffweb for web app development</a>
              </h3>
              <div class="mb-1 text-muted">Nov 11</div>
              <p class="card-text mb-auto">This is a wider card with supporting text below as a natural lead-in to additional content.</p> -->
              
            </div>
            <!-- <img class="card-img-right flex-auto d-none d-lg-block" data-src="holder.js/200x250?theme=thumb" alt="Card image cap"> -->
          </div>
        </div>
      </div>
      <div class="row mb-2">
	      <div class="col-md-12">
	      <!-- wffweb-github-io -->
					<ins class="adsbygoogle" style="display: block"
						data-ad-client="ca-pub-6407927299164406" data-ad-slot="1020738577"
						data-ad-format="auto"></ins>
					<script>
						(adsbygoogle = window.adsbygoogle || []).push({});
					</script>
	      </div>      
      </div>
    </div>

    <main role="main" class="container">
      <div class="row">
        <div class="col-md-8 blog-main">
          <h3 class="pb-3 mb-4 font-italic border-bottom">
            webfirmframework for Java Experts
          </h3>

          <div class="blog-post">
            <h2 class="blog-post-title">wffweb best practices</h2>
 			<h3>Build UI with minimal tags</h3>
				<p>When building heavy UI, it's important to follow this rule to
					keep only necessary tags. It reduces the load of a browser, why
					should the browser take care about unnecessary tags!!</p>
				
				
				<h3>Use minimal tag manipulation methods</h3>
				<p>If there are continuous invocation of tag manipulation methods then try to convert it to invoking minimal tag manipulation methods. Check out the below examples</p>
				<p>Eg 1 :- </p>
				<pre class="notranslate"><code class="java">List&lt;AbstractHtml&gt; children = div1.getChildren();
        
for (AbstractHtml child : children) {
    div1.removeChild(child);
}

//should be as follows instead of the above
div1.removeAllChildren();
</code></pre>
                <p>Eg 2 :- </p>
				<pre class="notranslate"><code class="java">div1.removeAllChildren();
div1.appendChild(div2);

//should be as follows instead of the above
div1.addInnerHtml(div2);
</code></pre>
                <p>Eg 3 :- </p>
				<pre class="notranslate"><code class="java">div1.removeAllChildren();
div1.appendChild(div2);
div1.appendChild(div3);
        
//should be as follows instead of the above
div1.addInnerHtmls(div2, div3);</code></pre>


<h3>Use BrowserPage#holdPush &amp; BrowserPage#unholdPush wherever possible</h3>
				<p>
					Surround with
					<code>BrowserPage#holdPush</code>
					and
					<code>BrowserPage#unholdPush</code>
					methods for multiple tag manipulation statements. When a tag
					manipulation method (eg:
					<code>div.removeAllChildren()</code>
					) is executed the framework sends its UI update to the client as a
					push so if there are multiple statements then there will be
					multiple push. When all tag manipulation methods are surrounded
					with
					<code>BrowserPage#holdPush</code>
					and
					<code>BrowserPage#unholdPush</code>
					then all those UI updates will be sent in a single push so that the
					end user will not see the UI changes are taking place one by one in
					a slow network. Also ensure that the
					<code>BrowserPage#unholdPush()</code>
					is called inside finally block. See the sample code given below
				</p>
				<p>Eg :- </p>
				<pre class="notranslate"><code class="java">try {
    browserPage.holdPush();
            
    div1.addAttributes(new Style("background:green"));
    div2.addAttributes(new Id("div2Id"));
    div3.addAttributes(new Name("div3"));
    div1.addInnerHtmls(div2, div3);
} finally {
    //pushes UI updates for the above four methods in a single push
    browserPage.unholdPush();
}</code></pre>
				<p>
					But there are also cases where these methods are not suitable, for
					example you are adding up to 1000 rows (or more than that) in a
					table. In such case if you are writing that code between
					<code>BrowserPage#holdPush</code>
					and
					<code>BrowserPage#unholdPush</code>
					then the end user will have to wait a long time to see the result
					because the framework sends all changes in a single push and the
					browser displays it only after receiving all these UI updates.
					Here, the end user is expecting a lazy loading. In such scenarios
					it's better to avoid using these
					<code>BrowserPage#holdPush</code>
					and
					<code>BrowserPage#unholdPush</code>
					methods.
				</p>

				<p>
					The usage of
					<code>BrowserPage#holdPush</code>
					and
					<code>BrowserPage#unholdPush</code>
					methods depends upon the requirements. 
					There will be a major improvement for holdPush/unholdPush implementation in <em>wffweb-3.0.1</em> or later versions.
					The improvement is with when <code>holdPush/unholdPush</code> method is called by multiple threads from the same <code>browserPage</code> instance, 
					if the <code>holdPush</code> is called three times the <code>unholdPUsh</code> needs to be called three times to unhold the push
					(in previous versions one unholdPush call will unhold the push). 
				</p>

				<h3>Do not return anonymous class</h3>
				<p>When you want to reuse a set of tags, you have to keep a separate template class for it.</p>

				<p>First let us look at a bad practice:- </p>				
				<pre class="notranslate"><code class="java">public class UserDetails {

    public Div getUserDetailsDiv(final String fullName) {

        Div details = new Div(null) {{
            new Span(this) {{
                new NoTag(this, "Name : " + fullName);
            }};
        }};

        return details;
    }

}

public static void main(String[] args) {
    UserDetails userDetails = new UserDetails();
    System.out.println(
                userDetails.getUserDetailsDiv("Hitomi").toHtmlString());
}
</code></pre>


				<p>
					Use the below code instead which does the similar job
				</p>

				<pre class="notranslate"><code class="java">public class UserDetailsTemplate extends Div {

    public UserDetailsTemplate(String fullName) {
        super(null);
        develop(fullName);
    }

    private void develop(final String fullName) {

//before 3.x.x
//        new Span(this) {{
//            new NoTag(this, "Name : " + fullName);
//        }};
        
//      as of 3.x.x 
        new Span(this).give(span -> {
            new NoTag(span, "Name : " + fullName);
        });

    }

}

public static void main(String[] args) {
    UserDetailsTemplate userDetails = new UserDetailsTemplate("Hitomi");
    System.out.println(userDetails.toHtmlString());
}
</code></pre>
				
			<p>But if you really want a method to return a div, then you have to change the coding style like this</p>

with the latest version of <em>3.x.x</em>: 
<pre class="notranslate"><code class="java">public class UserDetails {

    public Div getUserDetailsDiv(final String fullName) {

        Div details = new Div(null).give(div -> {
            new Span(div).give(span -> {
                new NoTag(span, "Name : " + fullName);
            });
        });    

        return details;
    }

}

public static void main(String[] args) {
    UserDetails userDetails = new UserDetails();
    System.out.println(
                userDetails.getUserDetailsDiv("Hitomi").toHtmlString());
}
</code></pre>
OR 
<pre class="notranslate"><code class="java">public class UserDetails {

    public Div getUserDetailsDiv(final String fullName) {

        Div details = new Div(null);

        Span span = new Span(details);

        new NoTag(span, "Name : " + fullName);

        return details;
    }

}

public static void main(String[] args) {
    UserDetails userDetails = new UserDetails();
    System.out.println(
                userDetails.getUserDetailsDiv("Hitomi").toHtmlString());
}
</code></pre>


				<h3>Use Executor Framework &amp; <em>wffweb-3.0.1</em> or later when using multiple threads</h3>
				<p>
				There are use cases where we need to load different parts of
				<a href="multi-threading-in-wff-java-code.html" target="_blank">ui in an asynchronous manner</a>.
				Java Executor Framework will be very useful to safely handle multiple threads for it. 
				It's available as part of core java. 
				<em>wffweb-3.0.1</em> 
				or later is recommended to use if ui portions are loaded in multiple threads. 
				There some major thread safety improvements done in <em>wffweb-3.0.1 &amp; later</em>
				and previous versions are not 100% thread safe. 
			 
				</p>

				<h3>You may use Kotlin to develop UI Templates to reduce coding effort</h3>
				<p>
					Using Kotlin to develop UI templates will be better productive,
					maintainable and readable. <a
						href="https://kotlinlang.org/docs/reference/java-interop.html"
						target="_blank">Kotlin is designed with Java Interoperability
						in mind</a>, that is you can call/use Kotlin code in Java and vice
					versa.
				</p>


 
            
          </div><!-- /.blog-post -->

          <nav class="blog-pagination">
            <a class="btn btn-outline-primary" href="multi-threading-in-wff-java-code.html">Prev</a>
            <a class="btn btn-outline-secondary disabled" href="#">Next</a>
          </nav>

          <nav class="blog-pagination">
            <a class="btn btn-outline-primary" href="../developers-guide/wffweb-best-practices.html" rel="nofollow">Older</a>
            <a class="btn btn-outline-secondary disabled" href="#">Newer</a>
          </nav>

        </div><!-- /.blog-main -->

        <aside class="col-md-4 blog-sidebar">
          <div class="p-3 mb-3 bg-light rounded">
            <blockquote cite="https://webfirmframework.github.io/developers-guide-wffweb-3/get-started.html">
            <h4 class="font-italic text-danger" id="noticeTitle"></h4>
            <p id="noticeContent" class="mb-0"></p>
            </blockquote>
          </div>

          <div class="p-3">
            <h4 class="font-italic">Dev Guide</h4>
            <ol id="devGuideLinks" class="list-unstyled mb-0"></ol>
          </div>

          <div class="p-3">
            <h4 class="font-italic">Other</h4>
            <ol id="commonLinks" class="list-unstyled"></ol>
          </div>
        </aside><!-- /.blog-sidebar -->

      </div><!-- /.row -->

    </main><!-- /.container -->

    <footer class="blog-footer">
      <p>By <a href="https://webfirmframework.com">webfirmframework</a></p>
      <p>
        <a href="#">Back to top</a>
      </p>
    </footer><script defer src="/assets/js/developers-guide-wffweb-3_main.js"></script>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../assets/js/jquery-3.3.1.min.js"><\/script>')</script>
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/holder/2.9.6/holder.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.13.1/build/highlight.min.js"></script>
    <script>
      Holder.addTheme('thumb', {
        bg: '#55595c',
        fg: '#eceeef',
        text: 'Thumbnail'
      });
    </script>
	<script type="text/javascript">
		$(function() {
			
			//for highlightjs
			$('pre code').each(function(i, block) {
				  hljs.highlightBlock(block);
			});
			
			$.getJSON("notice.json", function(data) {
				$("#noticeTitle").html(data.title);
				$("#noticeContent").html(data.content);
			});
			$.getJSON("developers-guide-uris.json", function(data) {
				var i;
				for (i in data) {
					var each = data[i]; 
					var li = $('<li/>').appendTo('#devGuideLinks');
					$('<a />')
					.attr('href', each.uri)
					.attr('title', each.title)
					.text(each.name)					
					.appendTo(li);
				}
			});
			$.getJSON("common-uris.json", function(data) {
				var i;
				for (i in data) {
					var each = data[i]; 
					var li = $('<li/>').appendTo('#commonLinks');
					$('<a />')
					.attr('href', each.uri)
					.attr('title', each.title)
					.text(each.name)					
					.appendTo(li);
				}
			});
		});
	</script>
	<script type="text/javascript">
		
	</script>
</body>
</html>
